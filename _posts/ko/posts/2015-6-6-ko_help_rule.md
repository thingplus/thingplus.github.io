---
title: 규칙생성 및 제어
tags: help
published: true
permalink: /ko/rule.html
---

규칙을 생성하고 관리하는 방법에 대한 가이드입니다.

* [규칙에 대하여](#id-rule-about)
* [규칙 관리](#id-rule-management)
* [규칙 만들기](#id-rule-creation)
* [규칙 정보](#id-rule-info)
* [규칙 수정 및 삭제](#id-rule-edit)
* [규칙 사례 따라하기](#id-rule-tutorial)

---
<div id='id-rule-about'></div>
### 규칙에 대하여
<br>
#### 규칙이란?
* 규칙은 특정 조건에 따라서 무엇인가를 실행할 수 있도록 해줍니다. {화재가 감지되면, SMS 알림을 받을 수 있습니다.} 와 같은 규칙을 만들 수 있습니다.
* 규칙을 통해 자동화된 실시간 모니터링이 가능하며, 한번의 규칙으로 수많은 센서의 값을 변경할 수도 있습니다.
* 자신의 환경에 맞는 규칙을 만들고 효율적인 IoT 모니터링을 실현시켜보세요. 

#### 에이전트란?
* 트리거, 컨디션의 주인공이 되는 아이템들을 말합니다.
  
#### 트리거-컨디션-액션이란?
* 트리거란? 규칙의 조건입니다. 규칙을 시작하게 하는 방아쇠의 역할을 합니다.
  - 예) 온도가 15도 이상일 때
  - 종류) 게이트웨이 상태, 센서 상태, 온도, 습도, 조도, ...  
* 컨디션이란? 선택적으로 조건을 하나 더 생성할 때, 그때의 조건을 컨디션이라고 부릅니다.
  - 예) 온도가 15도 이상일 때, 습도가 50% 이상이면.
  - 종류) 전력량, 배터리 게이지, 시간 조건, ...
* 액션이란? 트리거 혹은 트리거와 컨디션의 조건에 따라 명령을 내리거나 원하는 제어를 생성하는 것을 액션이라고 합니다.
  - 예) ~이면, SMS 알림을 주세요.
  - 종류) 웹푸시, 파워스위치, RGB LED, 카메라, 이메일, 리포트, SMS, ...

#### 메소드-파라미터란?
*  각 조건의 범위를 지정하는 것을 메소드라고 합니다. 트리거-메소드, 컨디션-메소드, 액션-메소드가 있습니다.
  - 예) 온도센서의 메소드 범위이상/범위이내/이상/이하
* 각 메소드에 필요한 상세한 수치값과 센서 선택 등 옵션을 파라미터라고 합니다.
  - 예) 온도센서의 메소드 '이상'의 파라미터는 숫자

#### 액션이 너무 빈번히 발생할 것 같다고요?
* **온도센서와 같이 주기적으로 트리거되는 규칙**에 의해서 발생하는 액션일 경우는 **5분내의 빈번한 발생은 제한**됩니다. 
   - 5분내에 동일한 센서 및 규칙에 의해 발생하는 액션은 무시 됩니다.
* **화재경보, 문열림등과 같이 불규칙적으로 트리거되는 규칙**에 의해서 발생하는 액션의 경우는 **15초 이내의 빈번한 발생은 제한**됩니다.
   - 15초내에 동일한 센서 및 규칙에 의해 발생하는 액션은 무시되고, 마지막 값은 최대 15초 연기되어 발생할 수 있습니다.

<br>

---
<div id='id-rule-management'></div>
### 규칙 관리
현재 생성된 규칙 리스트를 볼 수 있습니다.

![](/assets/4_m_rule.png)

#### 규칙관리하기 
* ①생성된 규칙들의 리스트입니다.
* ②트리거와 컨디션,액션으로 이루어진 규칙 아이콘입니다.
* ③규칙의 이름과 설명, ④규칙이 수정된 시각입니다.
* ⑤현재 생성되어진 규칙들의 상태를 활성화/비활성화 시킬 수 있는 스위치입니다. 

<br>
#### 규칙 아이콘 설명
이벤트가 발생해서 조건에 따른 행동이 이루어지는 과정을 형상화 했습니다. 
<br>
![](/assets/4_ruleicon.png)

* 순서대로 트리거,컨디션,액션을 뜻합니다.

<br>

---
<div id='id-rule-creation'></div>
### 규칙 만들기
직접 규칙 만들기를 통해 가지고 있는 센서들로 규칙을 만들 수 있습니다. 또한 서비스에서 제공하는 규칙 템플릿을 이용하여 규칙을 만들수도 있습니다.

<br>

#### 직접 만들기
1. 메뉴 우측의 <i class="fa fd-menu_setting"></i> 설정버튼을 눌러서 <i class="fa fd-menu_ruleManagement"></i> 규칙관리 메뉴를 클릭합니다. 규칙관리 페이지 상단의 <i class="fa fa-plus-circle"></i> 버튼을 눌러 <i class="fa fd-rule_creation"></i>직접 만들기를 선택합니다.
2. 예제에서는 “온도가 30도 이상일 때 SMS를 보내시오” 라는 규칙을 만들어보도록 하겠습니다.
3. ![](/assets/4_rule_trigger.png) Trigger 시작을 선택합니다.
4. 규칙을 시작할 트리거 종류를 선택합니다. 예제에서는 <i class="fa fd-rule_trigger_temperature fa-2x" style="color: #e04937"></i>온도센서를 고르도록 하겠습니다.
5. 두 번째 단계에서는 온도센서의 범위를 지정하도록 하겠습니다. 온도가 30도 이상일 때에 대한 규칙을 설정해야 하므로 <i class="fa fd-rule_method_over fa-2x"></i>“이상”을 선택하도록 하겠습니다.
6. 세 번째 단계에서는 트리거 세부항목을 지정할 수 있습니다.
7. 규칙에서 기준이 되는 값을 입력할 수 있습니다. 예제에서는 온도 30도에 해당하는 30을 입력합니다.
8. 게이트웨이를 선택합니다.
9. 온도센서가 부착되어 있는 게이트웨이를 선택합니다.
10. 트리거가 될 온도 센서를 지정합니다.
11. 설정이 모두 끝났으면 Action 선택을 선택합니다. 액션시작화면에서는 이전에 선택한 트리거를 확인할 수 있습니다. ![](/assets/4_rule_action.png) Action 시작을 눌러 계속 진행합니다.
12. 액션 선택화면에서는 <i class="fa fd-rule_action_sms fa-2x"  style="color: #53ae55"></i> SMS를 선택합니다.
13. SMS에 대한 액션방법으로는 <i class="fa fd-rule_method_send fa-2x"></i>“SEND(보내기)”를 선택합니다.
14. 액션의 마지막 단계에서는 메시지 본문을 입력할 수 있습니다. <i class="fa fa-edit"></i>를 눌러 HTML을 입력하거나 <i class="fa fa-eye"></i>를 눌러 메시지 내용을 확인할 수 있습니다. 예제에서는 별도의 수정 없이 기본으로 설정된 메시지를 사용하도록 하겠습니다. ![](/assets/4_rule_create.png) 규칙생성을 눌러 액션을 마무리 합니다.
15. 심각도를 설정하고 완료 버튼을 누르면 규칙이 만들어 집니다.

<br>

#### 규칙 템플릿 
1. 메뉴 우측의 <i class="fa fd-menu_setting"></i>설정버튼을 눌러서 <i class="fa fd-menu_ruleManagement"></i> 규칙관리 메뉴를 클릭합니다. 규칙관리 페이지 상단의 <i class="fa fa-plus-circle"></i> Add 버튼을 눌러 <i class="fa fa-copy fa-lg"></i> 템플릿 사용을 선택합니다.
2. 규칙 관리 템플릿 페이지에서 원하는 템플릿을 고르고 <i class="fa fa-plus-circle"></i> Add 버튼을 선택합니다.
3. 자신에게 맞게 규칙을 수정할 수 있습니다.
4. 저장을 하면 규칙이 만들어 집니다.

<br>

---
<div id='id-rule-info'></div>
### 규칙정보
생성된 규칙의 정보를 수정할 수 있습니다. 규칙정보는 규칙관리페이지, 타임라인페이지에서 규칙이름을 선택해서 확인할 수 있습니다.
![](/assets/4_m_ruleinfo.png)

* 규칙정보페이지에서는 ①규칙의 이름과 ②상세 에이전트들의 ③메소드, ④파라미터 값들을 확인할 수 있습니다.
* ⑤규칙의 수정, ⑥삭제, ⑦활성화/비활성화 설정을 수정할 수 있습니다.

<br>

<div id='id-rule-edit'></div>
#### 규칙 수정 및 삭제
* **규칙 수정하기**
  * 언제든지 생성된 규칙은 수정이 가능합니다.
  * 규칙정보 페이지에서 <i class="fa fa-cog"></i> 버튼을 선택합니다.
  * 규칙의 심각도를 수정할 수 있습니다.
  * 규칙의 이름과 설명을 수정할 수 있습니다.
  * 각 에이전트들의 메소드와 파라미터를 수정할 수 있습니다.
* **규칙 삭제하기**
  * 규칙을 삭제하면 다시 복구할 수 없습니다. 똑같은 규칙을 다시 만들고 싶다면 다시 규칙 만들기를 통해 규칙을 생성 해주세요.
  * 규칙정보 페이지에서 <i class="fa fa-cog"></i> 버튼을 선택합니다.
  * 삭제 안내 팝업을 확인하고 삭제를 합니다.

<br>

---
<div id='id-rule-tutorial'></div>
### 규칙 사례 따라해보기
(준비중입니다.)

<br>

<!---
1. 규칙에 대하여
* 규칙 관리
* 규칙 만들기
* 규칙 정보
* 규칙 수정
* 규칙 삭제
-->
